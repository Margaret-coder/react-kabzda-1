{"version":3,"sources":["redux/dialogsReducer.js","components/Navbar/Navbar.module.css","api/api.js","utils/object-helpers.js","redux/usersReducer.js","components/Sidebar/Sidebar.module.css","redux/sidebarReducer.js","redux/authReducer.js","redux/appReducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","components/Users/User.jsx","assets/images/samurai.png","components/Users/Paginator.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","hoc/withSuspense.js","App.js","index.js","components/Common/FormControls/FormControls.js","components/Common/FormControls/FormControls.module.css","components/Common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Users/Paginator.module.css","components/Common/Preloader/Preloader.module.css","components/Header/Header.module.css","components/Sidebar/SidebarItem/SidebarItem.module.css","redux/profileReducer.js"],"names":["ADD_MESSAGE","initialState","dialogsData","id","userId","name","image_src","messagesData","message","addMessageActionCreator","newMessageText","type","text","dialogsReducer","state","action","stateCopy","Array","from","newMessage","push","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","requestUsers","currentPage","pageSize","get","then","response","data","getUserProfile","console","error","profileAPI","getProfile","follow","post","unfollow","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","paginatorPortionSize","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","dispatch","a","totalCount","count","followUnfollowFlow","apiRequest","actionCreator","resultCode","usersReducer","followed","filter","sidebarData","sidebarReducer","SET_USER_DATA","isAuth","setAuthUserData","getAuthUserData","authReducer","INITIALIZATION_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","props","className","s","header","src","alt","loginBlock","onClick","logoutUser","to","HeaderContainer","this","React","Component","connect","maxLengthPassword","maxLengthCreator","LoginReduxForm","reduxForm","onSubmit","handleSubmit","createField","required","Input","style","formSummaryError","loginUser","messages","length","stopSubmit","_error","formData","Navbar","nav","active","activeClassName","User","user","photos","small","disabled","some","Paginator","pagesCount","Math","ceil","pages","i","portionsCount","useState","pagePortionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","e","onPageChanged","Users","Preloader","u","getUsers","createSelector","getUsersPageSize","getPaginatorPortionSize","getUsersTotalCount","getUsersCurrentPage","getUsersIsFetching","getUsersFollowingInProgress","UsersContainer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","WrapApp","rerenderEntireTree","ReactDOM","document","getElementById","getState","subscribe","Textarea","input","meta","hasError","touched","placeholder","validators","component","validate","preloader","spinner","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","postsData","likesCount","profile","addPostActionCreator","newPostText","setStatus","newPost","splice"],"mappings":"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","file":"static/js/main.6289c343.chunk.js","sourcesContent":["const ADD_MESSAGE = 'social-network/dialogs/ADD-MESSAGE'\r\n\r\n let initialState = {dialogsData : [\r\n    { id: 1, userId: 1, name: \"Member 1\", image_src: \"https://images.pexels.com/photos/905021/pexels-photo-905021.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\" },\r\n    { id: 2, userId: 2, name: \"Member 2\", image_src: \"https://images.pexels.com/photos/905021/pexels-photo-905021.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\" },\r\n    { id: 3, userId: 3, name: \"Member 3\", image_src: \"https://images.pexels.com/photos/905021/pexels-photo-905021.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\" },\r\n    { id: 4, userId: 4, name: \"Member 4\", image_src: \"https://images.pexels.com/photos/905021/pexels-photo-905021.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\" },\r\n    { id: 5, userId: 5, name: \"Member 5\", image_src: \"https://images.pexels.com/photos/905021/pexels-photo-905021.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\" },\r\n    { id: 6, userId: 6, name: \"Member 6\", image_src: \"https://images.pexels.com/photos/905021/pexels-photo-905021.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\" },\r\n  ],\r\n  messagesData : [\r\n    { id: 1, message: \"Hello\", userId: 0 },\r\n    { id: 2, message: \"Yo\", userId: 2 },\r\n    { id: 3, message: \"Again\", userId: 0 },\r\n    { id: 4, message: \"But wait\", userId: 2 },\r\n    { id: 5, message: \"Bye\", userId: 0 },\r\n    { id: 6, message: \"But wtrtrtrtrait\", userId: 2 },\r\n  ],\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageText) => ({\r\n  type: ADD_MESSAGE,\r\n  text: newMessageText\r\n})\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n    case ADD_MESSAGE: {\r\n      let stateCopy = {...state}\r\n      stateCopy.messagesData = Array.from(state.messagesData)\r\n      const newMessage = { id: 7, message: action.text, userId: 0 }\r\n      stateCopy.messagesData.push(newMessage)\r\n      return stateCopy\r\n    }\r\n    default: return state\r\n    }\r\n}\r\nexport default dialogsReducer  ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Rr5R\",\"item\":\"Navbar_item__1m5M4\",\"active\":\"Navbar_active__1I9iw\"};","import * as axios from 'axios'\r\nimport { follow } from '../redux/usersReducer'\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n         \"API-KEY\": \"4d2b6a2a-3174-4cd7-9821-448af9ec5222\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    requestUsers(currentPage = 1, pageSize = 10){\r\n        return instance.get(\r\n            `users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n            return response.data \r\n        })\r\n},\r\n    getUserProfile(userId){\r\n        // return instance.get(\r\n        // `profile/${userId}`)\r\n        // .then(response => {\r\n        //     return response.data\r\n        // })\r\n        console.error('Obsolete method. Please, use profileAPI.getProfile method')\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n    follow(userId){\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId){\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n}\r\nexport const authAPI = {\r\n    me(){\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (userId) => {\r\n    return instance.get(\r\n    `profile/${userId}`)\r\n    .then(response => {\r\n        return response.data\r\n    })\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(item => { \r\n        if(item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item \r\n    })\r\n}","import { usersAPI } from \"../api/api\"\r\nimport { updateObjectInArray } from \"../utils/object-helpers\"\r\n\r\nlet FOLLOW = 'social-network/users/FOLLOW'\r\nlet UNFOLLOW = 'social-network/users/UNFOLLOW'\r\nlet SET_USERS = 'social-network/useers/SET_USERS'\r\nlet SET_CURRENT_PAGE = 'social-network/users/SET_CURRENT_PAGE'\r\nlet SET_TOTAL_USERS_COUNT = 'social-network/users/SET_TOTAL_USERS_COUNT'\r\nlet TOGGLE_IS_FETCHING = 'social-network/users/TOGGLE_IS_FETCHING'\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n     users: [\r\n    // {id: 1, \r\n    //     profilePhoto: 'https://images.pexels.com/photos/157920/woman-face-curly-hair-157920.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500',\r\n    //     fullName: 'Girlu', status: 'Menya trudno nayti, legko poteryat` i nevoszmojno zabit`', followed: false, location: {city: 'NY', country: 'US'}\r\n    // },\r\n    // {id: 2, \r\n    //     profilePhoto: 'https://images.pexels.com/photos/750565/pexels-photo-750565.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500', \r\n    //     fullName: 'Iggy Pops', status: 'Bamballeyo', followed: true, location: {city: 'Odessa', country: 'US'}\r\n    // },\r\n    // {id: 3, \r\n    //     profilePhoto: 'https://images.pexels.com/photos/5051699/pexels-photo-5051699.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500', \r\n    //     fullName: 'A Horse', status: 'Igogo', followed: false, location: {city: 'Chorni', country: 'Bile'}\r\n    // }\r\n    ],\r\n    pageSize: 5,\r\n    paginatorPortionSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray\r\n                (state.users, action.userId, \"id\", {followed: false}) \r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state, \r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress\r\n                    .filter(id => id !== action.userId)]\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        const response = await usersAPI.requestUsers(currentPage, pageSize)\r\n            dispatch(toggleIsFetching(false))\r\n            dispatch(setUsers(response.items))\r\n            dispatch(setTotalUsersCount(response.totalCount))\r\n            dispatch(setCurrentPage(currentPage))\r\n        }\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiRequest, actionCreator) => {\r\n    dispatch (toggleFollowingProgress(true, userId))\r\n    const response = await apiRequest(userId)\r\n    if(response.data.resultCode === 0)\r\n    {\r\n        dispatch (actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async(dispatch) => {\r\n        const apiRequest = usersAPI.follow\r\n        const actionCreator = followSuccess\r\n        followUnfollowFlow(dispatch, userId, apiRequest, actionCreator)\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiRequest = usersAPI.unfollow\r\n        const actionCreator = unfollowSuccess\r\n        followUnfollowFlow(dispatch, userId, apiRequest, actionCreator)\r\n    }\r\n}\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__kM3qO\",\"item\":\"Sidebar_item__CY4Le\",\"active\":\"Sidebar_active__-JafW\",\"container\":\"Sidebar_container__1-EH1\"};","let initialState = {sidebarData: [\r\n    {id: 1, name: \"FirstMember\"}, \r\n    {id: 2, name: \"SecondMember\"}, \r\n    {id: 3, name: \"ThirdMember\"}, \r\n  ]}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n    default: return state\r\n    }\r\n}\r\nexport default sidebarReducer\r\n","import { authAPI } from \"../api/api\"\r\nimport {stopSubmit} from \"redux-form\" \r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case SET_USER_DATA:{\r\n            return {\r\n                ...state, \r\n                ...action.data\r\n            }\r\n        }\r\n        default: \r\n        return state\r\n    }\r\n}\r\n\r\nexport const loginUser = (email, password, rememberMe) => \r\nasync (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n        if(response.data.resultCode === 0){\r\n            dispatch(getAuthUserData())\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Zaglushko error strashne'\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n}\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n        if(response.data.resultCode === 0){\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => \r\n({type: SET_USER_DATA, data:{userId, email, login, isAuth}})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n        if(response.data.resultCode === 0){\r\n            let{id, login, email} = response.data.data\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        }\r\n}\r\n\r\nexport default authReducer","import { getAuthUserData } from \"./authReducer\"\r\n\r\n\r\nconst INITIALIZATION_SUCCESS = 'social-network/app/INITIALIZATION_SUCCESS'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case INITIALIZATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n            default:\r\n                return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZATION_SUCCESS})\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n        await dispatch(getAuthUserData())\r\n        dispatch(initializedSuccess())\r\n}\r\n\r\nexport default appReducer"," import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport profileReducer from './profileReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport sidebarReducer from './sidebarReducer'\r\nimport usersReducer from './usersReducer'\r\nimport authReducer from './authReducer'\r\nimport appReducer from './appReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer \r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ \r\n|| compose;\r\nconst store = createStore(reducers,  \r\n    composeEnhancers(applyMiddleware(thunkMiddleware)\r\n  ));\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nwindow.store = store\r\n\r\nexport default store","import { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\nconst Header = (props) => {\r\n    return (\r\n      <header className={s.header}>Header jsx\r\n      <img\r\n        src=\"https://www.logodesign.net/logo/abstract-cuboid-building-4519ld.png\"\r\n        alt=\"logo\"\r\n      />\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth \r\n        ? <div>{props.login} - \r\n        <button onClick={props.logoutUser}>Log out</button></div>  \r\n          :<NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n    );  \r\n  };\r\n\r\n  export default Header\r\n\r\n","import React from \"react\";\r\nimport Header from './Header'\r\nimport {logoutUser } from '../../redux/authReducer'\r\nimport { connect } from \"react-redux\";\r\n\r\nclass HeaderContainer extends React.Component{\r\n    render()\r\n    {\r\n        return(\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, \r\n    {logoutUser})(HeaderContainer)","import { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport {reduxForm} from 'redux-form'\r\nimport {loginUser} from '../../redux/authReducer'\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators'\r\nimport { createField, Input } from '../Common/FormControls/FormControls'\r\nimport style from '../Common/FormControls/FormControls.module.css'\r\n\r\nconst maxLengthPassword = maxLengthCreator(10)\r\n\r\nconst LoginForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required, maxLengthPassword], Input, {type:\"password\"})}\r\n            {createField(\"\", \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\r\n            {props.error&&<div className={style.formSummaryError}>{props.error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        let {email, password, rememberMe} = formData\r\n        props.loginUser(email, password, rememberMe)\r\n    }\r\n    if(props.isAuth){\r\n        return<Redirect to=\"/profile\"/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect (mapStateToProps, {loginUser})(Login)","import { NavLink } from \"react-router-dom\"\r\nimport s from \"./Navbar.module.css\"\r\n\r\nconst Navbar = () => {\r\n    return(\r\n        <nav className={s.nav}>\r\n        <div className={`${s.item} ${s.active}`}>\r\n          <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"news\" activeClassName={s.active}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"music\" activeClassName={s.active}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"settings\" activeClassName={s.active}>Settings</NavLink>\r\n        </div>\r\n      </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar","import { NavLink } from \"react-router-dom\"\r\nimport userPhoto from '../../assets/images/samurai.png'\r\n\r\nconst User = (props) => {\r\n    const user = props.user\r\n    return(\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small !== null? \r\n                        user.photos.small : userPhoto}\r\n                    alt=\"profilePhoto\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed ?\r\n                        <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n                        onClick={()=> {props.unfollow(user.id)}}>\r\n                        Unfollow {user.id}\r\n                        </button> \r\n                        :\r\n                        <button \r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={()=> {props.follow(user.id)}}\r\n                        >Follow {user.id}\r\n                        </button>\r\n                        }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div><div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"u.location.city\"}</div>\r\n                        <div>{\"u.location.country\"}</div>\r\n                    </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}        \r\nexport default User","export default \"data:image/png;base64,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\"","import React, {useState} from 'react'\r\nimport styles from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nconst Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++){\r\n        pages.push(i)\r\n    }\r\n    let portionsCount = Math.ceil(pagesCount / props.paginatorPortionSize)\r\n    let [pagePortionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (pagePortionNumber - 1) * props.paginatorPortionSize + 1\r\n    let rightPortionPageNumber = \r\n    pagePortionNumber * props.paginatorPortionSize    \r\n    return(\r\n    <div className={styles.paginator}>\r\n        {pagePortionNumber > 1 && <button onClick={() => \r\n            setPortionNumber(pagePortionNumber - 1)}>Prev</button>} \r\n        {pages.filter\r\n        (p => p >= leftPortionPageNumber \r\n            && p <= rightPortionPageNumber)\r\n        .map(p => { \r\n            return <span key={p.id} className=\r\n            {cn(\r\n                {[styles.selectedPage] : props.currentPage === p}\r\n                , styles.pageNumber)}\r\n            onClick={(e) => {props.onPageChanged(p)}}> {p} </span>\r\n        })}\r\n        {pagePortionNumber < portionsCount && <button onClick={()=>\r\n        setPortionNumber(pagePortionNumber + 1)}>Next</button>}\r\n        <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator\r\n\r\n","import s from './Users.module.css'\r\nimport React from 'react'\r\nimport Preloader from '../Common/Preloader/Preloader'\r\nimport User from './User'\r\nimport Paginator from './Paginator'\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div>\r\n        <div>{props.isFetching? <Preloader/> : null}</div>\r\n        <Paginator currentPage={props.currentPage}\r\n        totalUsersCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        paginatorPortionSize={props.paginatorPortionSize}\r\n        onPageChanged={props.onPageChanged}/>\r\n        {\r\n            props.users.map(u=> \r\n            <User key = {u.id} \r\n            user={u} follow={props.follow} unfollow={props.unfollow}\r\n            followingInProgress={props.followingInProgress}/>)\r\n        }\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Users","import {createSelector} from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = \r\ncreateSelector(getUsersSelector, (users) => \r\n{\r\n    return users.filter(u=>true)\r\n})\r\n\r\nexport const getUsersPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getPaginatorPortionSize = (state) => {\r\n    return state.usersPage.paginatorPortionSize\r\n}\r\n\r\nexport const getUsersTotalCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getUsersCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getUsersIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getUsersFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import Users from './Users'\r\nimport {connect} from 'react-redux'\r\nimport {follow, unfollow, \r\n    setCurrentPage, toggleFollowingProgress,\r\n    requestUsers} from '../../redux/usersReducer'\r\nimport React from 'react'\r\nimport { getUsers, getUsersCurrentPage,\r\n     getUsersPageSize, getUsersTotalCount, \r\n     getUsersIsFetching, getUsersFollowingInProgress, getPaginatorPortionSize } from '../../redux/usersSelectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount(){\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n    }\r\n    render () {\r\n        return (\r\n        <Users\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        paginatorPortionSize={this.props.paginatorPortionSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        followingInProgress={this.props.followingInProgress}\r\n        />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getUsersPageSize(state),\r\n        paginatorPortionSize: getPaginatorPortionSize(state),\r\n        totalUsersCount: getUsersTotalCount(state),\r\n        currentPage: getUsersCurrentPage(state),\r\n        isFetching: getUsersIsFetching(state),\r\n        followingInProgress: getUsersFollowingInProgress(state),\r\n        // toggleFollowingProgress: state.usersPage.followingInProgress\r\n    }\r\n}\r\n\r\nexport default \r\n    connect (mapStateToProps, {\r\n         follow, unfollow, setCurrentPage,\r\n         toggleFollowingProgress, requestUsers\r\n         })(UsersContainer)","import React from \"react\";\r\nimport Preloader from \"../components/Common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n} ","import React from \"react\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { BrowserRouter, Route, withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport {initializeApp} from '../src/redux/appReducer'\r\nimport \"./App.css\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer.jsx\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport Navbar from \"./components/Navbar/Navbar.jsx\";\r\nimport Sidebar from \"./components/Sidebar/Sidebar\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport { withSuspense } from \"./hoc/withSuspense\";\r\nimport store from \"./redux/redux-store\";\r\n\r\nconst DialogsContainer = React.lazy(() => import \r\n(\"./components/Dialogs/DialogsContainer\"))\r\nconst ProfileContainer = React.lazy (() => import \r\n(\"./components/Profile/ProfileContainer\"))\r\n\r\nclass App extends React.Component {\r\n  componentDidMount(){\r\n    this.props.initializeApp()\r\n  }\r\n  render(props){\r\n    if (!this.props.initialized){\r\n      return <Preloader/>\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        {/* <Sidebar sidebar={state.sidebarReducer}/> */}\r\n        <div className=\"app-wrapper-content\">\r\n        <Route path=\"/dialogs\" \r\n        render={withSuspense(DialogsContainer)}/>\r\n        <Route path=\"/profile/:userId?\" \r\n        render={withSuspense(ProfileContainer)} />\r\n          <Route path=\"/users\" render={()=><UsersContainer/>}/>\r\n          <Route path=\"/login\" render={()=><LoginPage/>}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n  withRouter, \r\n  connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst WrapApp = (props) => {\r\n  return <BrowserRouter>\r\n  <Provider store={store}><AppContainer/></Provider>\r\n  </BrowserRouter>\r\n} \r\n\r\nexport default WrapApp\r\n\r\n// export default compose(\r\n//   withRouter, \r\n//   connect(mapStateToProps, {initializeApp}))(App);\r\n\r\n//export default withRouter(connect(mapStateToProps, {getAuthUserData})(App));\r\n//export default connect(mapStateToProps, {getAuthUserData})(App);\r\n","import \"./index.css\";\r\nimport store from \"./redux/redux-store\";\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport App from './App';\r\nimport {Provider} from \"react-redux\";\r\n\r\nexport let rerenderEntireTree = (state) => {\r\n    ReactDOM.render(\r\n      <BrowserRouter>\r\n      <Provider store={store}>\r\n        <App/>\r\n      </Provider>\r\n    </BrowserRouter>, document.getElementById(\"root\")\r\n    );\r\n}\r\n\r\nrerenderEntireTree(store.getState())\r\n\r\nstore.subscribe(() => {\r\n  let state = store.getState()\r\n  rerenderEntireTree(state)\r\n})\r\n\r\n\r\n\r\n","import { Field } from \"redux-form\";\r\nimport styles from \"./FormControls.module.css\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n  const hasError = touched && error\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>\r\n        {children}\r\n      </div>\r\n      {hasError&&<span>{error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  let hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={hasError ? styles.error : \"\"}>\r\n      <div>\r\n        <textarea {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n      <div className={hasError ? styles.error : \"\"}>\r\n        <div>\r\n          <input {...input} {...props} />\r\n        </div>\r\n        {hasError && <span>{meta.error}</span>}\r\n      </div>\r\n    );\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => {\r\n  return(\r\n  <div>\r\n    <Field placeholder={placeholder} name={name}\r\n        validate={validators} \r\n        component={component}\r\n        {...props}\r\n      /> {text}\r\n  </div> \r\n)}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControls_error__3m59Z\",\"formSummaryError\":\"FormControls_formSummaryError__3f7Y1\"};","import s from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={s.preloader}>\r\n            <div className={s.spinner}></div>\r\n        </div>\r\n    )\r\n}\r\nexport default Preloader","export const required = (value) => {\r\n    if(value) return undefined\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__19b-a\",\"pageNumber\":\"Paginator_pageNumber__366Uq\",\"selectedPage\":\"Paginator_selectedPage__1BtTP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2VqzA\",\"spinner\":\"Preloader_spinner__1U53P\",\"spin\":\"Preloader_spin__7mZb4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__18Z0j\",\"loginBlock\":\"Header_loginBlock__1ewBy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"SidebarItem_listItem__30M8J\",\"circle\":\"SidebarItem_circle__2rwIz\"};","import { profileAPI} from \"../api/api\"\r\n\r\nconst ADD_POST = 'social-network/profile/ADD-POST'\r\nconst SET_USER_PROFILE = 'social-network/profile/SET_USER_PROFILE'\r\nconst SET_STATUS = 'social-network/profile/SET_STATUS'\r\nconst DELETE_POST = 'social-network/profile/DELETE_POST'\r\n\r\nlet initialState = {postsData : [\r\n  { id: 1, message: \"Hello\", likesCount: 12 },\r\n  { id: 2, message: \"Yo\", likesCount: 24 },\r\n  { id: 3, message: \"Again\", likesCount: 2 },\r\n  // { id: 4, message: \"But wait\", likesCount: 0 },\r\n  // { id: 5, message: \"Bye\", likesCount: 18 },\r\n  // { id: 6, message: \"But wtrtrtrtrait\", likesCount: 3 },\r\n  // { id: 7, message: \"Bili Bili Bili bli\", likesCount: 2 },\r\n  // { id: 8, message: \"Pokurit ne naydetsa\", likesCount: 4 },\r\n  // { id: 9, message: \"It's my life, now and ever\", likesCount: 8 },\r\n  // { id: 10, message: \"Hello\", likesCount: 1 },\r\n],\r\n//newPostText: '',\r\nprofile: null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n      case ADD_POST: {\r\n        let stateCopy = {...state}\r\n        stateCopy.postsData = Array.from(state.postsData)\r\n        const newPost = { id: 11, message: action.text, likesCount: 0 }\r\n        stateCopy.postsData.push(newPost)\r\n        stateCopy.newPostText = ''\r\n        return stateCopy\r\n        // return {\r\n        //   ...state, \r\n        //   postsData: { ...state.postsData, newPost},\r\n        //   newPostText: ''\r\n        // }\r\n      }\r\n      case SET_USER_PROFILE: {\r\n        return {...state, profile: action.profile}\r\n      }\r\n      case DELETE_POST: {\r\n        let stateCopy = {...state}\r\n        stateCopy.postsData.splice(action.id, 1)\r\n        return stateCopy\r\n      }\r\n      case SET_STATUS: {\r\n        return {...state, status: action.status}\r\n      }\r\n      default: {\r\n        return state\r\n      }\r\n    }\r\n  }\r\n\r\nexport const addPostActionCreator = (newPostText) => ({\r\n    type: ADD_POST,\r\n    text: newPostText\r\n})\r\n\r\nexport const deletePostActionCreator = (id) => ({\r\n    type: DELETE_POST,\r\n    id\r\n})\r\n  \r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE, \r\n    profile: profile\r\n})\r\n\r\nexport const setStatus = (text) => ({\r\n    type: SET_STATUS,\r\n    status: text\r\n})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data) )\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status)\r\n    if(response.data.resultCode === 0){\r\n      dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}